# 2章 変数とメソッド
この章ではRubyの変数とメソッドの記述方法と仕様について説明します。
Rubyでは変数のスコープは変数名で判断しています。
宣言された場所を確認しなくても一目でスコープがわかるようになっています。

## 2-1 ローカル変数
ローカル変数の変数名は小文字のアルファベットもしくは、\_で始める必要があります。
```ruby
ruby = 'Hello Ruby'
_ruby = 'Hello Ruby'
```

## 2-2 グローバル変数
グローバル変数の変数名は$から始める必要があります。
```ruby
$ruby = 'Hello Ruby'
```

## 2-3 定数
定数を利用する場合は大文字アルファベットで始める必要があります。
```ruby
RUBY = "Hello Ruby"
```

## 2-4 メソッドの定義
Rubyのメソッドはdefで始まり、endで終わるように定義します。
また、小文字で初めてスニークケースで記述するようにします。
メソッドは内部で最後に評価された値を返します。
足し算をするメソッドを作成してみましょう。  
```ruby
def add(a, b)
   a + b
end

p add(1, 2)   # 3
```
※Rubyでは変数の型は定義せず、動的に決定されます。

pは結果を出力するメソッドです。addメソッド内で最後に評価された[a + b]の結果が出力されているのがわかります。
明示的に戻り値を指定したい場合にはreturnを使用します。
 ```ruby
def add(a, b)
   return a + b
   p "ここは評価されない"
end

p add(1, 2)   # 3
 ```
return以下の内容が評価されることはありません。

## 2-5 真偽値を返すメソッド
メソッドの中には末尾に?が付いているものがあります。（コアリファレンス参照）
これは真偽値を返すメソッドです。例えばempty?というメソッドがあります。
```ruby
message = "hello Ruby"
p message.empty?    # false
```

## 2-6 破壊的メソッド
メソッド名の末尾に!が付いているものがあります。
これは破壊的メソッドといい、元の値を変更するメソッドです。例えばupcase!というメソッドがあります。
```ruby
message = "hello Ruby"
# !をつけない場合、破壊的メソッドではないため元の値に影響はありません
p message.upcase    # HELLO RUBY
p message           # hello Ruby

# !をつけた場合、破壊的メソッドとなり元の値を変更します
p message.upcase!   # HELLO RUBY
p message           # HELLO RUBY
```
